{"version":3,"sources":["webpack:///./src/app/enquiries/data-filter.pipe.ts","webpack:///./src/app/enquiries/enquiries.routing.ts","webpack:///./src/app/enquiries/enquiries.component.css","webpack:///./src/app/enquiries/enquiries.component.html","webpack:///./src/app/enquiries/enquiries.module.ts","webpack:///./~/css-loader/lib/css-base.js?da04***","webpack:///./src/app/enquiries/enquiries.component.ts"],"names":[],"mappings":"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","file":"8.chunk.js","sourcesContent":["import * as _ from \"lodash\";\r\nimport {Pipe, PipeTransform} from \"@angular/core\";\r\n//declare var _:any;\r\n@Pipe({\r\n    name: \"dataFilter\"\r\n})\r\nexport class DataFilterPipe implements PipeTransform {\r\n  \r\npublic transform(value, keys: string, term: string) {\r\n\r\n    if (!term) return value;\r\n    return (value || []).filter((item) => keys.split(',').some(key => item.hasOwnProperty(key) && new RegExp(term, 'gi').test(item[key])));\r\n\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/enquiries/data-filter.pipe.ts","import { Routes } from '@angular/router';\r\n\r\nimport { EnquiriesComponent } from './enquiries.component';\r\n\r\nexport const EnquiriesRoutes: Routes = [\r\n    {\r\n\r\n      path: '',\r\n      children: [ {\r\n        path: '',\r\n        component: EnquiriesComponent\r\n    }]\r\n}\r\n];\n\n\n// WEBPACK FOOTER //\n// ./src/app/enquiries/enquiries.routing.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/enquiries/enquiries.component.css\n// module id = 1134\n// module chunks = 8","module.exports = \"<div class=\\\"main-content\\\">\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"card\\\">\\r\\n          <div class=\\\"card-header card-header-icon\\\" data-background-color=\\\"blue-grey\\\">\\r\\n            <i class=\\\"material-icons\\\">record_voice_over</i>\\r\\n          </div>\\r\\n          <div class=\\\"card-content\\\">\\r\\n            <h4 class=\\\"card-title\\\">Enquiry Management</h4>\\r\\n\\r\\n<!-- =========================     Toolbar Buttons (Begin)     ========================= -->\\r\\n            <div class=\\\"toolbar\\\">\\r\\n              <!-- Capture Button (Begin) -->\\r\\n              <a href=\\\"forms/addenquiry\\\" id=\\\"addenquireId\\\">\\r\\n                <button class=\\\"btn btn-primary btn-round btn-fab btn-fab-mini\\\" rel=\\\"tooltip\\\" title=\\\"Capture a new enquiry\\\" style=\\\"margin: 2px;\\\">\\r\\n                  <i class=\\\"material-icons\\\">add</i>\\r\\n                </button>\\r\\n              </a>\\r\\n              <!-- Capture Button (End) -->\\r\\n\\r\\n              <!-- Search Button (Begin) -->\\r\\n              <button class=\\\"btn btn-primary btn-round btn-fab btn-fab-mini\\\" rel=\\\"tooltip\\\" title=\\\"Search enquiry\\\" id=\\\"btn-filter\\\" (click)=\\\"showFilter();\\\" value=\\\"on\\\" style=\\\"margin: 2px;\\\">\\r\\n              <i class=\\\"material-icons\\\">search</i>\\r\\n              </button>\\r\\n              <!-- Search Button (End) -->\\r\\n\\r\\n              <!-- Export Button (Begin) -->\\r\\n\\r\\n                <button class=\\\"btn btn-primary btn-round btn-fab btn-fab-mini\\\" rel=\\\"tooltip\\\"\\r\\n                title=\\\"Export to Excel\\\" (click)=\\\"tableToExcel('datatables', 'Incident Report')\\\" value=\\\"Export to Excel\\\" style=\\\"margin: 2px;\\\">\\r\\n                  <i class=\\\"material-icons\\\">file_download</i>\\r\\n                </button>\\r\\n\\r\\n              <!-- Export Button (End) -->\\r\\n            </div>\\r\\n<!-- =========================     Toolbar Buttons (End)     ========================= -->\\r\\n\\r\\n<!-- =========================     Search Bar (Begin)     ==================== -->\\r\\n            <div id=\\\"search\\\">\\r\\n              <div class=\\\"col-sm-6\\\">\\r\\n                <div class=\\\"form-group label-floating\\\">\\r\\n                  <label class=\\\"control-label\\\">Search Records</label>\\r\\n                  <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"filterQuery\\\" />\\r\\n                  <span class=\\\"help-block\\\">Type here to search</span>\\r\\n                  <br>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n<!-- =========================     Search Bar (End)     ==================== -->\\r\\n\\r\\n<!-- =========================     Table (Begin)     ==================== -->\\r\\n            <div class=\\\"col-sm-12\\\">\\r\\n              <div class=\\\"material-datatables table-responsive\\\">\\r\\n                 <table class=\\\"table table-striped table-no-bordered table-hover\\\" id=\\\"datatables\\\" cellspacing=\\\"0\\\" width=\\\"100%\\\" style=\\\"width:100%\\\" [mfData]=\\\"data | dataFilter:'fullNames,contactNumber,name,datecaptured,capturedBy':filterQuery\\\" #mf=\\\"mfDataTable\\\"\\r\\n                   [mfRowsOnPage]=\\\"rowsOnPage\\\" [(mfSortBy)]=\\\"sortBy\\\" [(mfSortOrder)]=\\\"sortOrder\\\">\\r\\n                  <thead>\\r\\n                    <tr>\\r\\n                      <th style=\\\"display:none;\\\"></th>\\r\\n                      <th><mfDefaultSorter by=\\\"fullNames\\\">FullNames</mfDefaultSorter></th>\\r\\n                      <th><mfDefaultSorter by=\\\"contactNumber\\\">Contact</mfDefaultSorter></th>\\r\\n                      <th><mfDefaultSorter by=\\\"type\\\">Type</mfDefaultSorter></th>\\r\\n                      <th><mfDefaultSorter by=\\\"datecaptured\\\">Date</mfDefaultSorter></th>\\r\\n                      <th><mfDefaultSorter by=\\\"capturedBy\\\">Operator</mfDefaultSorter></th>\\r\\n                      <th class=\\\"disabled-sorting text-right\\\">Actions</th>\\r\\n                    </tr>\\r\\n                  </thead>\\r\\n                  <tbody>\\r\\n                    <tr id=\\\"items\\\" *ngFor=\\\"let item of mf.data\\\">\\r\\n                      <td style=\\\"display:none;\\\">{{item.enquiryId}}</td>\\r\\n                      <td>{{item.fullNames}}</td>\\r\\n                      <td>{{item.contactNumber}}</td>\\r\\n                      <td>{{item.enquiry_type.name}}</td>\\r\\n                      <td>{{item.datecaptured}}</td>\\r\\n                      <td>{{item.capturedBy}}</td>\\r\\n                      <td class=\\\"td-actions text-right\\\">\\r\\n\\r\\n                         <a href=\\\"forms/viewenquiry\\\">\\r\\n                          <button type=\\\"button\\\" (click)=\\\"Onclick();\\\" rel=\\\"tooltip\\\" title=\\\"View enquiry details\\\" class=\\\"btn btn-primary\\\">\\r\\n                            <i class=\\\"material-icons\\\">visibility</i>\\r\\n                          </button>\\r\\n                          </a>\\r\\n\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </tbody>\\r\\n                  <tfoot>\\r\\n                    <label id=\\\"results\\\">No Enquiries Data at the moment</label>\\r\\n                    <tr>\\r\\n                    <th style=\\\"display:none;\\\"></th>\\r\\n                      <th>FullNames</th>\\r\\n                      <th>Contact</th>\\r\\n                      <th>Type</th>\\r\\n                      <th>Date</th>\\r\\n                      <th>Operator</th>\\r\\n                      <th class=\\\"text-right\\\">Actions</th>\\r\\n                    </tr>\\r\\n                    <br>\\r\\n                    <tr>\\r\\n                      <td colspan=\\\"8\\\">\\r\\n                         <mfBootstrapPaginator [rowsOnPageSet]=\\\"[10,25,50,100]\\\"></mfBootstrapPaginator>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </tfoot>\\r\\n                </table>\\r\\n              </div>\\r\\n            </div>\\r\\n<!-- =========================     Table (End)     ==================== -->\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/enquiries/enquiries.component.html\n// module id = 1166\n// module chunks = 8","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { DataTableModule } from 'angular2-datatable';\r\n// import {DataTableDirectives} from 'angular2-datatable/datatable';\r\n\r\nimport { EnquiriesComponent } from './enquiries.component';\r\nimport { EnquiriesRoutes } from './enquiries.routing';\r\nimport { DataFilterPipe }   from './data-filter.pipe';\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forChild(EnquiriesRoutes),\r\n        CommonModule,\r\n         DataTableModule,\r\n        // DataTableDirectives,\r\n        FormsModule\r\n    ],\r\n    declarations: [EnquiriesComponent, DataFilterPipe]\r\n})\r\n\r\nexport class EnquiriesModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/app/enquiries/enquiries.module.ts","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 907\n// module chunks = 0 3 6 7 8 9 10","import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from '../app.service';\r\nimport { Http, Response, Headers } from '@angular/http';\r\nimport { Angular2Csv } from 'angular2-csv/Angular2-csv';\r\n\r\n\r\n\r\ndeclare var $:any;\r\ndeclare interface Task {\r\n  title: string;\r\n  checked: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-enquiries',\r\n  templateUrl: './enquiries.component.html',\r\n  styleUrls: ['./enquiries.component.css'],\r\n  providers: [ DataService ]\r\n})\r\nexport class EnquiriesComponent implements OnInit {\r\n\r\n   public data;\r\n  //public data1;\r\n   public selectedEnquiryId;\r\n   public filterQuery = \"\";\r\n   public rowsOnPage = 10;\r\n   public sortBy = \"datecaptured\";\r\n   public sortOrder = \"desc\";\r\n   public enquiries;\r\n   public enquiryTypes;\r\n   selectedRow : Number;\r\n   setClickedRow : Function;\r\n   // array of currently selected entities in the data table\r\n   selectedEntities: any[];\r\n\r\n   constructor( private dataService: DataService)\r\n   {\r\n      // if (window.location.href.indexOf('reload')==-1) {\r\n      //  window.location.replace(window.location.href+'?reload');\r\n      // }\r\n\r\n      this.getEnquiries();\r\n     // this.getEnquiriesById();\r\n\r\n   }\r\n   ngOnInit(){\r\n    $(\"#search\").hide();\r\n     $(\"#results\").hide();\r\n     let role = JSON.parse(localStorage.getItem('role'));\r\n     // console.log(\"alertsRole\",role);\r\n\r\n     //if role is equal to communications department then show add button\r\n     if(role ===\"5a93fa58360f060014c2cff1\"){\r\n      $(\"#addenquireId\").hide();\r\n     }else{\r\n      $(\"#addenquireId\").show();\r\n     }\r\n   }\r\n\r\n\r\n \t ngAfterViewInit(){\r\n      //  Activate the tooltips\r\n      $('[rel=\"tooltip\"]').tooltip();\r\n   }\r\n\r\n   // Code to pull all incidents from the service\r\n        getEnquiries(){\r\n\r\n             this.dataService.getEnquiries().subscribe(\r\n                data =>{\r\n                  this.data = data.json();\r\n                  console.log(\"data 1\", this.data);\r\n\r\n                  if(this.data.length == 0) {\r\n                     $(\"#results\").show();\r\n                   } else {\r\n                      $(\"#results\").hide();\r\n                   }\r\n\r\n\r\n              });\r\n        }\r\n\r\n         tableToExcel(table, name){\r\n          let uri = 'data:application/vnd.ms-excel;base64,'\r\n            , template = '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--><meta http-equiv=\"content-type\" content=\"text/plain; charset=UTF-8\"/></head><body><table>{table}</table></body></html>'\r\n            , base64 = function(s) { return window.btoa(decodeURIComponent(encodeURIComponent(s))) }\r\n            , format = function(s, c) { return s.replace(/{(\\w+)}/g, function(m, p) { return c[p]; }) }\r\n            if (!table.nodeType) table = document.getElementById(table)\r\n            var ctx = {worksheet: name || 'Worksheet', table: table.innerHTML}\r\n            window.location.href = uri + base64(format(template, ctx))\r\n        }\r\n\r\n\r\n        showFilter(){\r\n\r\n           if($('#btn-filter').attr(\"value\") == \"on\")\r\n           {\r\n               $('#search').show();\r\n               $('#btn-filter').attr(\"value\",\"off\");\r\n           }else{\r\n               $('#search').hide();\r\n               $('#btn-filter').attr(\"value\",\"on\");\r\n           }\r\n\r\n        }\r\n   //public formModel={};\r\n   Onclick(){\r\n\r\n          $('#datatables tr').click(function() {\r\n\r\n            var $row = $(this).closest(\"tr\"),        // Finds the closest row <tr>\r\n                $tds = $row.find(\"td:nth-child(1)\"); // Finds the 1nd <td> element\r\n\r\n            $.each($tds, function() {                // Visits every single <td> element\r\n\r\n              this.selectedEnquiryId = $(this).text();\r\n              localStorage.setItem('selectedId', JSON.stringify(this.selectedEnquiryId));\r\n              console.log(\"selectedId\", JSON.stringify(this.selectedEnquiryId)); // Prints out the text within the <td>\r\n\r\n            });\r\n    });\r\n }\r\n\r\n\r\n  export()\r\n  {\r\n        var titles = [];\r\n        var data = [];\r\n\r\n        /*\r\n         * Get the table headers, this will be CSV headers\r\n         * The count of headers will be CSV string separator\r\n         */\r\n        $('#datatables thead').each(function() {\r\n          titles.push($(this).text());\r\n        });\r\n\r\n        /*\r\n         * Get the actual data, this will contain all the data, in 1 array\r\n         */\r\n        $('#datatables td').each(function() {\r\n          data.push($(this).text());\r\n        });\r\n\r\n        /*\r\n         * Convert our data to CSV string\r\n         */\r\n        var CSVString = prepCSVRow(titles, titles.length, '');\r\n        CSVString = prepCSVRow(data, titles.length, CSVString);\r\n\r\n        /*\r\n         * Make CSV downloadable\r\n         */\r\n        var downloadLink = document.createElement(\"a\");\r\n        var blob = new Blob([\"\\ufeff\", CSVString]);\r\n        var url = URL.createObjectURL(blob);\r\n        downloadLink.href = url;\r\n        downloadLink.download = \"Report.csv\";\r\n\r\n        /*\r\n         * Actually download CSV\r\n         */\r\n        document.body.appendChild(downloadLink);\r\n        downloadLink.click();\r\n        document.body.removeChild(downloadLink);\r\n    }\r\n\r\n}\r\n\r\n\r\n//outside export class EnquiriesComponent implements OnInit\r\n\r\nfunction prepCSVRow(arr, columnCount, initial) {\r\n            var row = ''; // this will hold data\r\n            var delimeter = ','; // data slice separator, in excel it's `;`, in usual CSv it's `,`\r\n            var newLine = '\\r\\n'; // newline separator for CSV row\r\n\r\n             function splitArray(_arr, _count){\r\n              var splitted = [];\r\n              var result = [];\r\n              _arr.forEach(function(item, idx){\r\n                if ((idx + 1) % _count === 0){\r\n                  splitted.push(item);\r\n                  result.push(splitted);\r\n                  splitted = [];\r\n                } else {\r\n                  splitted.push(item);\r\n                }\r\n              });\r\n              return result;\r\n            }\r\n            var plainArr = splitArray(arr, columnCount);\r\n              // don't know how to explain this\r\n              // you just have to like follow the code\r\n              // and you understand, it's pretty simple\r\n              // it converts `['a', 'b', 'c']` to `a,b,c` string\r\n              plainArr.forEach(function(arrItem) {\r\n                arrItem.forEach(function(item, idx) {\r\n                  row += item + ((idx + 1) === arrItem.length ? '' : delimeter);\r\n                });\r\n                row += newLine;\r\n              });\r\n              return initial + row;\r\n    }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/enquiries/enquiries.component.ts"],"sourceRoot":""}